<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thy BreadSite</title>
    <style>
        /* ... Your existing styles ... */
    </style>
</head>
<body>
    <!-- Passcode Overlay -->
    <div id="overlay">
        <div id="passcode-box">
            <h2>Enter Passcode</h2>
            <input type="text" id="passcode-input" placeholder="Passcode" onkeypress="handleKeyPress(event)">
            <br>
            <button id="submit-button" onclick="checkPasscode()">Submit</button>
            <p id="error-message"></p>
        </div>
    </div>

    <!-- Main Content -->
    <div id="main-content" style="display: none;">
        <!-- Your existing main content -->
    </div>

    <!-- Secret Paint Brush Emoji -->
    <a href="/breadsite/painters" class="hidden-paintbrush">ðŸŽ¨</a>

    <script>
        // Define the correct passcode
        var correctPasscode = "ILOVECATSANDBREAD";
        var attempts = 0;

        // Check if the correct passcode is already stored
        if (localStorage.getItem('passcodeAccepted') === 'true') {
            document.getElementById("overlay").style.display = "none";
            document.getElementById("main-content").style.display = "block";
        }

        // Function to check the passcode
        function checkPasscode() {
            var passcode = document.getElementById("passcode-input").value;
            if (passcode === correctPasscode) {
                // Store the flag in localStorage
                localStorage.setItem('passcodeAccepted', 'true');
                var overlay = document.getElementById("overlay");
                overlay.style.opacity = "0";
                setTimeout(function() {
                    overlay.style.display = "none";
                    document.getElementById("main-content").style.display = "block";
                }, 500);
            } else {
                attempts++;
                if (attempts >= 3) {
                    document.getElementById("error-message").innerText = "Too many failed attempts. Please reload the page to retry.";
                    document.getElementById("submit-button").disabled = true;
                    document.getElementById("passcode-input").disabled = true;
                } else {
                    document.getElementById("error-message").innerText = "Incorrect passcode. Please try again.";
                }
            }
        }

        // Function to handle the enter key press
        function handleKeyPress(event) {
            if (event.key === "Enter") {
                checkPasscode();
            }
        }
    </script>
</body>
</html>
